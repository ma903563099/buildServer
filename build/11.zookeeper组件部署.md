<<<<<<< HEAD
# ZooKeeper分布式协调服务平台的搭建
=======
# Zookeeper安装与集群搭建
>>>>>>> 4e407de8f5380f845bc6b892b389e4eb0a089716
通过apache的下载地址下载Zookeeper：

http://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.4.14/

在hadoop-back机器中下载Zookeeper.

<<<<<<< HEAD
## 配置`zoo.cfg`
下载完之后，切换至`zookeeper`的`conf`目录输入`cp zoo_sample.cfg zoo.cfg`，然后`vim zoo.cfg`，编辑配置文件，删除原有的`dataDir`，在文件末尾添加如下内容：

=======
# 配置zoo.cfg
下载完之后，切换至zookeeper的conf目录输入cp zoo_sample.cfg zoo.cfg，然后vim zoo.cfg，编辑配置文件，删除原有的dataDir，在文件末尾添加如下内容：
>>>>>>> 4e407de8f5380f845bc6b892b389e4eb0a089716
```
dataDir=/usr/local/zookeeper/data/

server.1=192.168.20.102:2888:3888
server.2=192.168.20.103:2888:3888
server.3=192.168.20.104:2888:3888
```
<<<<<<< HEAD
=======

>>>>>>> 4e407de8f5380f845bc6b892b389e4eb0a089716
切换至数据目录下设置myid
```
cd /usr/local/zookeeper/data
echo "1" > myid # (第一台为1、第二台为2、第三台为3)
```
<<<<<<< HEAD
## 同传
将Zookeeper复制到另外两台子节点。
=======
# 同传
将Zookeeper复制到另外两台子节点。

>>>>>>> 4e407de8f5380f845bc6b892b389e4eb0a089716
```
scp -r zookeeper-3.4.14/ slave1@hadoop-slave2:/app
scp -r zookeeper-3.4.14/ slave1@hadoop-slave3:/app
```
<<<<<<< HEAD
## 测试
=======
# 测试
>>>>>>> 4e407de8f5380f845bc6b892b389e4eb0a089716
分别在hadoop-back,hadoop-slave1,hadoop-slave2中启动Zookeeper。
```
#cd zookeeper-3.4.14/bin
#./zkServer.sh start 
#./zkServer.sh status
```
<<<<<<< HEAD
启动之后再输入`zkServer.sh status`，若一个为`leader`,两个`follower`为正常。
=======

启动之后再输入zkServer.sh status，若一个为leader,两个follower为正常。
>>>>>>> 4e407de8f5380f845bc6b892b389e4eb0a089716
